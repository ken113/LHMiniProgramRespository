{"version":3,"sources":[null,"webpack:///E:/LHMiniProgramRespository/components/selectPerson.vue?78c5","webpack:///E:/LHMiniProgramRespository/components/selectPerson.vue?8477","webpack:///E:/LHMiniProgramRespository/components/selectPerson.vue?d989","uni-app:///components/selectPerson.vue","webpack:///E:/LHMiniProgramRespository/components/selectPerson.vue?ae3c","webpack:///E:/LHMiniProgramRespository/components/selectPerson.vue?3495"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAsmB,CAAgB,goBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8C1nB;AACA,sBADA;AAEA;AACA,gCADA;AAEA,0CAFA,EAFA;;AAMA;AACA;AACA,kBADA;AAEA;AACA;AACA,OAJA,EADA;;AAOA;AACA,kBADA;AAEA;AACA;AACA,OAJA,EAPA;;AAaA;AACA,iBADA;AAEA;AACA;AACA,OAJA,EAbA;;AAmBA;AACA,iBADA;AAEA;AACA;AACA,OAJA,EAnBA,EANA;;;AAgCA,MAhCA,kBAgCA;AACA;AACA,6BADA;AAEA,uBAFA;AAGA,oBAHA;AAIA,0BAJA;AAKA,8BALA;AAMA,sBANA;AAOA,qBAPA;AAQA,mBARA;;AAUA,GA3CA;AA4CA,SA5CA,qBA4CA;AACA;AACA;AACA;AACA,KAHA;AAIA,GAjDA;AAkDA,SAlDA,qBAkDA;AACA;AACA;AACA;AACA,GAtDA;AAuDA;;AAEA,eAFA,yBAEA;AACA;AACA,kCADA;AAEA,sBAFA;AAGA;AACA,uDADA;AAEA,uBAFA,EAHA;;AAOA,UAPA,CAOA;AACA;;AAEA,oBAFA;AAGA,kBAHA,CAEA,UAFA;AAIA;AACA;AACA,OAdA;AAeA,KAlBA;;AAoBA,oBApBA,4BAoBA,QApBA,EAoBA;AACA;AACA;AACA;AACA,qDADA;AAEA,iFAFA;AAGA,iFAHA;AAIA,2DAJA;AAKA,2DALA;AAMA,0FANA;AAOA,0FAPA;AAQA,2DARA;AASA,2DATA;AAUA,0FAVA;AAWA,0FAXA;AAYA,qDAZA;AAaA,uCAbA;AAcA,uCAdA;AAeA,6CAfA;AAgBA,+CAhBA;AAiBA,iDAjBA;;;AAoBA;;AAEA;AACA;AACA;AACA,qCADA;AAEA,uCAFA;AAGA,iCAHA;AAIA,iCAJA;;AAMA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAxEA;AAyEA;AACA;AACA,KAtHA;AAuHA,kBAvHA,0BAuHA,KAvHA,EAuHA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAJA;;AAMA;AACA,KAtIA;AAuIA,cAvIA,wBAuIA;AACA;AACA;AACA,KA1IA;AA2IA,eA3IA,yBA2IA;AACA;AACA;AACA,KA9IA;AA+IA,gBA/IA,0BA+IA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAtJA;AAuJA,iBAvJA,yBAuJA,IAvJA,EAuJA,QAvJA,EAuJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,wBADA;AAEA,wBAFA;AAGA,2BAHA;AAIA,6BAJA;AAKA,4BALA;;AAOA;;AAEA;AACA,OAhBA;AAiBA,KA5KA;AA6KA,gBA7KA,wBA6KA,IA7KA,EA6KA,QA7KA,EA6KA;AACA;AACA;AACA;AACA,KAjLA;AAkLA,iBAlLA,yBAkLA,SAlLA,EAkLA;;AAEA;AACA;AACA;;AAEA,KAxLA;AAyLA,mBAzLA,2BAyLA,SAzLA,EAyLA;AACA;;AAEA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;;;AAGA,KArMA;AAsMA,qBAtMA,6BAsMA,KAtMA,EAsMA;AACA;;AAEA;AACA;AACA;AACA,KA5MA;AA6MA;AACA,gBA9MA,wBA8MA,WA9MA,EA8MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBADA,CACA;AACA,OAFA,MAEA;AACA,0CADA,CACA;AACA;AACA;AACA,4CADA,CACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,WAPA,MAOA;AACA,kDADA,CACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA,SAhBA,MAgBA;AACA,yBADA,CACA;AACA;AACA;AACA,uBAlDA,CAkDA;AACA,KAjQA,EAvDA,E;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAAwmC,CAAgB,klCAAG,EAAC,C;;;;;;;;;;;ACA5nC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/selectPerson.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./selectPerson.vue?vue&type=template&id=d0154ca8&\"\nvar renderjs\nimport script from \"./selectPerson.vue?vue&type=script&lang=js&\"\nexport * from \"./selectPerson.vue?vue&type=script&lang=js&\"\nimport style0 from \"./selectPerson.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/selectPerson.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./selectPerson.vue?vue&type=template&id=d0154ca8&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./selectPerson.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./selectPerson.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"select-person\" :class=\"{'selectPersonShow':selectPersonShow}\">\r\n\t\t<view class=\"top-buttom\">\r\n\t\t\t<view class=\"btn-cancel\" @tap=\"cancelPick\">取消</view>\r\n\t\t\t<view class=\"text-num\">已选{{ pickerList.length }}人</view>\r\n\t\t\t<view class=\"btn-ok\" @tap=\"confirmPick\">确定</view>\r\n\t\t</view>\r\n\t\t<view class=\"btn-box\">\r\n\t\t\t<!-- <button class=\"btn-invite \"><text class=\"iconfont\">&#xe7dd;</text>邀请好友填写</button> -->\r\n\t\t\t<view class=\"btn-add\" @tap=\"addTraveller\"><text class=\"iconfont\">&#xe7a7;</text>新增常用游客</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"person-list\">\r\n\t\t\t<view class=\"person-item\" v-for=\"(person,index) in travellerList\" :key=\"person.TravellerId\">\r\n\t\t\t\t<view class=\"person-line\">\r\n\t\t\t\t\t<checkbox class=\"checkbox\" :disabled=\"person.disabled\" value=\"cb\" @tap=\"changeSelected(index)\"\r\n\t\t\t\t\t\t:checked=\"person.checked\" color=\"#007AFF\" />\r\n\t\t\t\t\t<view class=\"person-right\">\r\n\t\t\t\t\t\t<text @tap=\"changeSelected(index)\" :class=\" person.TravellerSex ? 'user-sex iconfont female':'user-sex iconfont male' \">&#xe735;</text>\r\n\t\t\t\t\t\t<text @tap=\"changeSelected(index)\" class=\"user-name \">{{ person.TravellerName }}</text>\r\n\t\t\t\t\t\t<text @tap=\"changeSelected(index)\" class=\"user-enname\">{{ person.TravellerEnname }}</text>\r\n\t\t\t\t\t\t<text  class=\"user-extra iconfont\" v-if=\"person.hasEract\">&#xe8ac;</text>\r\n\t\t\t\t\t\t<text  class=\"user-edit iconfont\" @tap=\"goToEditTraveller(index)\">&#xe8cf;</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"person-error\" v-if=\"person.errorText\">{{ person.errorText }}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"edit-traveller-content\" :class=\"{'editTravellerShow':editTravellerShow}\" >\r\n\t\t\t<editTraveller ref=\"editTraveller\"  :myTraveller=\"traveller\" :pageType=\"pageType\"\r\n\t\t\t\t:initFormData=\"initFormData\"  @closeEditPage=\"closeEditPage\" @showMeansPage=\"showMeansPage\" @showEditPage=\"showEditPage\" @updateTraveller=\"updateTraveller\"></editTraveller>\r\n\t\t</view>\r\n\t\t<view class=\"edit-traveller-content\" :class=\"{'editTravellerShow':showMeans }\">\r\n\t\t\t<editTravellerMeans  ref=\"editTravellerMeans\" :myTraveller=\"traveller\" :initFormData=\"initFormData\" :pageType=\"pageType\"\r\n\t\t\t\t@showMeansPage=\"showMeansPage\"  @updateTraveller=\"updateTraveller\" >\r\n\t\t\t</editTravellerMeans>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport editTraveller from './editTraveller.vue'\r\n\timport editTravellerMeans from './editTravellerMeans.vue'\r\n\r\n\texport default {\r\n\t\tname: \"selectPerson\",\r\n\t\tcomponents: {\r\n\t\t\teditTraveller,\r\n\t\t\teditTravellerMeans\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tproduct: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {};\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tinitFormData: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {};\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\ttravellers: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tinitPickerList: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tselectPersonShow: false,\r\n\t\t\t\ttravellerList: [],\r\n\t\t\t\tpickerList: [],\r\n\t\t\t\tinitSelectIdList: [],\r\n\t\t\t\teditTravellerShow: false,\r\n\t\t\t\tshowMeans: false,\r\n\t\t\t\ttraveller: null,\r\n\t\t\t\tpageType: '4',\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.initPickerList.forEach(item => {\r\n\t\t\t\tlet tid = item.TravellerID || item.personID;\r\n\t\t\t\tthis.initSelectIdList.push( tid );\r\n\t\t\t});\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t//this.getTravellerList(this.travellers);\r\n\t\t\tuni.removeStorageSync(\"meansInfo\");\r\n\t\t\tthis.getCustomer();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\tgetCustomer() {\r\n\t\t\t\tthis.$sendRequest({\r\n\t\t\t\t\turl: \"/WxOpen/GetCustomer\",\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tsessionId: uni.getStorageSync(\"mySessionKey\"),\r\n\t\t\t\t\t\tcustomerID: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.Code === 200) {\r\n\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\tTravellers\r\n\t\t\t\t\t\t} = res.data;\r\n\t\t\t\t\t\tthis.getTravellerList(Travellers);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetTravellerList(dataList) {\r\n\t\t\t\tconst travellerList = [];\r\n\t\t\t\tconst pickerList = [];\r\n\t\t\t\tconst ageMaxChecked = this.initFormData.ageMaxChecked,\r\n\t\t\t\t\tageMinChecked = this.initFormData.ageMinChecked,\r\n\t\t\t\t\tageMin = this.initFormData.ageMin == '' ? -1 : this.initFormData.ageMin*1,\r\n\t\t\t\t\tageMax = this.initFormData.ageMax == '' ? -1 : this.initFormData.ageMax*1,\r\n\t\t\t\t\theightMinChecked = this.initFormData.heightMinChecked,\r\n\t\t\t\t\theightMaxChecked = this.initFormData.heightMaxChecked,\r\n\t\t\t\t\theightMin = this.initFormData.heightMin == '' ? -1 : this.initFormData.heightMin*1,\r\n\t\t\t\t\theightMax = this.initFormData.heightMax == '' ? -1 : this.initFormData.heightMax*1,\r\n\t\t\t\t\tweightMinChecked = this.initFormData.weightMinChecked,\r\n\t\t\t\t\tweightMaxChecked = this.initFormData.weightMaxChecked,\r\n\t\t\t\t\tweightMin = this.initFormData.weightMin == '' ? -1 : this.initFormData.weightMin*1,\r\n\t\t\t\t\tweightMax = this.initFormData.weightMax == '' ? -1 : this.initFormData.weightMax*1,\r\n\t\t\t\t\tneedExtraInfo = this.initFormData.needExtraInfo,\r\n\t\t\t\t\tHeight = this.initFormData.Height,\r\n\t\t\t\t\tWeight = this.initFormData.Weight,\r\n\t\t\t\t\tShoesSize = this.initFormData.ShoesSize,\r\n\t\t\t\t\tGlassesNum = this.initFormData.GlassesNum,\r\n\t\t\t\t\tClothesSize = this.initFormData.ClothesSize;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tdataList.forEach(item => {\r\n\r\n\t\t\t\t\tlet hasEract = true;\r\n\t\t\t\t\tlet errorText = '';\r\n\t\t\t\t\tconst _ClothesSize = item.ClothesSize,\r\n\t\t\t\t\t\t_GlassesNum = item.GlassesNum,\r\n\t\t\t\t\t\t_ShoesSize = item.ShoesSize*1,\r\n\t\t\t\t\t\t_Weight = item.Weight*1,\r\n\t\t\t\t\t\t_Height = item.Height*1;\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst age = this.getPersonAge(item.Birthday);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// if ( _ShoesSize && _Weight && _Height) {\r\n\t\t\t\t\t// \thasEract = true;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tif (needExtraInfo === '1') {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet extraError = [];\r\n\t\t\t\t\t\tif( Height && !_Height){\r\n\t\t\t\t\t\t\textraError.push('身高');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif( Weight && !_Weight){\r\n\t\t\t\t\t\t\textraError.push('体重');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif( ShoesSize && !_ShoesSize){\r\n\t\t\t\t\t\t\textraError.push('鞋子码数');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif( ClothesSize && !_ClothesSize){\r\n\t\t\t\t\t\t\textraError.push('衣服码数');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif( GlassesNum && (_GlassesNum =='' || _GlassesNum === undefined) ){\r\n\t\t\t\t\t\t\textraError.push('近视度数');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif( extraError.length){\r\n\t\t\t\t\t\t\terrorText = '需要填写' + extraError.join(';');\r\n\t\t\t\t\t\t\thasEract = false; //必填的附加项目，存在未填写情况,不显示图标\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (ageMinChecked && age < ageMin) {\r\n\t\t\t\t\t\terrorText = '年龄不能小于' + ageMin + '岁';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (ageMaxChecked && age > ageMax) {\r\n\t\t\t\t\t\terrorText = '年龄不能大于' + ageMax + '岁';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_Height && heightMinChecked && _Height < heightMin) {\r\n\t\t\t\t\t\terrorText = '身高不能小于' + heightMin;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_Height && heightMaxChecked && _Height > heightMax) {\r\n\t\t\t\t\t\terrorText = '身高不能大于' + heightMax;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_Weight && weightMinChecked && _Weight < weightMin) {\r\n\t\t\t\t\t\terrorText = '体重不能小于' + weightMin;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_Weight && weightMaxChecked && _Weight > weightMax) {\r\n\t\t\t\t\t\terrorText = '体重不能大于' + weightMax;\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.hasEract = hasEract;\r\n\t\t\t\t\titem.errorText = errorText;\r\n\r\n\t\t\t\t\titem.checked = false;\r\n\t\t\t\t\titem.disabled = false;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (this.initSelectIdList.includes(item.TravellerID)) {\r\n\t\t\t\t\t\titem.checked = true;\r\n\t\t\t\t\t\tpickerList.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (errorText) {\r\n\t\t\t\t\t\titem.disabled = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttravellerList.push(item);\r\n\r\n\t\t\t\t});\r\n\t\t\t\tthis.travellerList = travellerList;\r\n\t\t\t\tthis.pickerList = pickerList;\r\n\t\t\t},\r\n\t\t\tchangeSelected(index) {\r\n\t\t\t\tif( this.travellerList[index].disabled){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst selected = this.travellerList[index].checked;\r\n\t\t\t\tthis.travellerList[index].checked = !selected;\r\n\r\n\t\t\t\tconst pickerList = [];\r\n\t\t\t\tthis.travellerList.forEach(item => {\r\n\t\t\t\t\tif (item.checked) {\r\n\t\t\t\t\t\tpickerList.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.pickerList = pickerList;\r\n\t\t\t},\r\n\t\t\tcancelPick() {\r\n\t\t\t\tthis.selectPersonShow = false;\r\n\t\t\t\tthis.$emit('cancel')\r\n\t\t\t},\r\n\t\t\tconfirmPick() {\r\n\t\t\t\tthis.selectPersonShow = false;\r\n\t\t\t\tthis.$emit('confirm', this.pickerList)\r\n\t\t\t},\r\n\t\t\taddTraveller() {\r\n\t\t\t\tuni.removeStorageSync(\"meansInfo\");\r\n\t\t\t\tthis.$refs.editTraveller.means = false;\r\n\t\t\t\tthis.pageType = '4';\r\n\t\t\t\tthis.traveller = null;\r\n\t\t\t\tthis.editTravellerShow = true;\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tshowMeansPage(show,pageType) {\r\n\t\t\t\tthis.showMeans = show;\r\n\t\t\t\tthis.pageType = pageType;\r\n\t\t\t\tthis.editTravellerShow = true;\r\n\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\tif(uni.getStorageSync(\"meansInfo\")){\r\n\t\t\t\t\t\tthis.$refs.editTraveller.means = true;\r\n\t\t\t\t\t}else{\t\r\n\t\t\t\t\t\t//新增的附加资料,清空缓存数据\r\n\t\t\t\t\t\tif( pageType === '4'){\r\n\t\t\t\t\t\t\tthis.$refs.editTravellerMeans.traveller = {\r\n\t\t\t\t\t\t\t\tHeight: '',\r\n\t\t\t\t\t\t\t\tWeight: '',\r\n\t\t\t\t\t\t\t\tShoesSize: '',\r\n\t\t\t\t\t\t\t\tClothesSize: '',\r\n\t\t\t\t\t\t\t\tGlassesNum: ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tshowEditPage(show,pageType) {\r\n\t\t\t\tthis.showMeans = show;\r\n\t\t\t\tthis.pageType = pageType;\r\n\t\t\t\tthis.editTravellerShow = true;\r\n\t\t\t},\r\n\t\t\tcloseEditPage(traveller) {\r\n\t\t\t\t\r\n\t\t\t\tthis.editTravellerShow = false;\r\n\t\t\t\tthis.showMeans = false;\r\n\t\t\t\tuni.removeStorageSync(\"meansInfo\");\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tupdateTraveller(traveller) {\r\n\t\t\t\t//this.traveller = JSON.stringify(traveller);\r\n\t\t\t\t\r\n\t\t\t\t//本地更新附加项目\r\n\t\t\t\tif( traveller){\r\n\t\t\t\t\tthis.$refs.editTraveller.means = true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.getCustomer();\r\n\t\t\t\t\tthis.editTravellerShow = false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgoToEditTraveller(index) {\r\n\t\t\t\tconst traveller = this.travellerList[index];\r\n\r\n\t\t\t\tthis.traveller = traveller;\r\n\t\t\t\tthis.pageType = '5';\r\n\t\t\t\tthis.editTravellerShow = true;\r\n\t\t\t},\r\n\t\t\t//通过生日，获取年龄\r\n\t\t\tgetPersonAge(strBirthday) {\r\n\t\t\t\tvar returnAge = -1;\r\n\t\t\t\tif (!strBirthday) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\tstrBirthday = strBirthday.substring(0, 10);\r\n\t\t\t\tif (strBirthday == '0001-01-01' || strBirthday == '1900-01-01') {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\tvar strBirthdayArr = strBirthday.split(\"-\");\r\n\t\t\t\tvar birthYear = strBirthdayArr[0];\r\n\t\t\t\tvar birthMonth = strBirthdayArr[1];\r\n\t\t\t\tvar birthDay = strBirthdayArr[2];\r\n\r\n\t\t\t\tvar d = new Date(this.product.ServiceDate);\r\n\r\n\t\t\t\t//已选中的出行日期为准，判断年龄\r\n\t\t\t\tlet ServiceDate = this.product.ServiceDate.substring(0, 10);\r\n\t\t\t\tif (ServiceDate == '0001-01-01' || ServiceDate == '1900-01-01') {\r\n\t\t\t\t\td = new Date();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar nowYear = d.getFullYear();\r\n\t\t\t\tvar nowMonth = d.getMonth() + 1;\r\n\t\t\t\tvar nowDay = d.getDate();\r\n\r\n\t\t\t\tif (nowYear == birthYear) {\r\n\t\t\t\t\treturnAge = 0; //同年 则为0岁  \r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar ageDiff = nowYear - birthYear; //年之差  \r\n\t\t\t\t\tif (ageDiff > 0) {\r\n\t\t\t\t\t\tif (nowMonth == birthMonth) {\r\n\t\t\t\t\t\t\tvar dayDiff = nowDay - birthDay; //日之差  \r\n\t\t\t\t\t\t\tif (dayDiff < 0) {\r\n\t\t\t\t\t\t\t\treturnAge = ageDiff - 1;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturnAge = ageDiff;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar monthDiff = nowMonth - birthMonth; //月之差  \r\n\t\t\t\t\t\t\tif (monthDiff < 0) {\r\n\t\t\t\t\t\t\t\treturnAge = ageDiff - 1;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturnAge = ageDiff;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturnAge = -1; //返回-1 表示出生日期输入错误 晚于今天  \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn returnAge; //返回周岁年龄  \r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.select-person {\r\n\t\tflex-direction: column;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 100;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\ttransform: translateY(100%);\r\n\t\ttransition: all 400ms ease;\r\n\r\n\t\t&.selectPersonShow {\r\n\t\t\ttransform: translateY(0) !important;\r\n\t\t}\r\n\r\n\t\t.top-buttom {\r\n\t\t\tborder-top: 1px solid #eeeeee;\r\n\t\t\tborder-bottom: 1px solid #eeeeee;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\theight: 80rpx;\r\n\t\t\t//font-size:  24rpx;\r\n\t\t\tpadding: 0 40rpx 0 24rpx;\r\n\r\n\t\t\t.btn-cancel {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #303030;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\t    line-height: 80rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.text-num {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.btn-ok {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #4992E7;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tline-height: 80rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.btn-box {\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t\toverflow: hidden;\r\n\t\t\tdisplay: flex;\r\n\t\t\t//flex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 0 24rpx;\r\n\r\n\t\t\t.iconfont {\r\n\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.btn-invite {\r\n\t\t\t\twidth: 195rpx;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tline-height: 80rpx;\r\n\t\t\t\tborder: 1px solid #4992e7;\r\n\t\t\t\tborder-radius: 0;\r\n\t\t\t\tmargin-right: 24rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.btn-add {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\twidth: 442rpx;\r\n\t\t\t\tmargin: 0 auto;\r\n\t\t\t\theight: 65rpx;\r\n\t\t\t\tline-height: 65rpx;\r\n\t\t\t\tborder: 1px solid #4992e7;\r\n\t\t\t\tborder-radius: 0;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.person-list {\r\n\r\n\t\t\tbackground: #fff;\r\n\r\n\t\t\tmargin-top: 20rpx;\r\n\r\n\t\t\t.person-item {\r\n\r\n\t\t\t\t.person-line {\r\n\t\t\t\t\tpadding: 0 40rpx 0 24rpx;\r\n\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t&.error {\r\n\r\n\t\t\t\t\t\t.person-right {\r\n\t\t\t\t\t\t\tborder-bottom: 1px solid #FF0000;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.checkbox{\r\n\t\t\t\t\t\ttransform: scale(0.6);\r\n\t\t\t\t\t\t    margin-top: 5px;\r\n\t\t\t\t\t\t    margin-left: -10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.person-radio {\r\n\t\t\t\t\t\ttransform: scale(0.6);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.person-right {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tborder-bottom: 1px solid #EEEEEE;\r\n\t\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\t\tline-height: 60rpx;\r\n\t\t\t\t\t\tmargin-top: 10rpx;\r\n\r\n\t\t\t\t\t\t.user-sex {\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\r\n\t\t\t\t\t\t\t&.male {\r\n\t\t\t\t\t\t\t\tcolor: #4992e7;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t&.female {\r\n\t\t\t\t\t\t\t\tcolor: #ff6600;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.user-name {\r\n\t\t\t\t\t\t\tmargin: 0 10rpx;\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.user-enname {\r\n\t\t\t\t\t\t\tmargin: 0 10rpx;\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.user-extra {\r\n\t\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.user-edit {\r\n\t\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\t\tfloat: right;\r\n\t\t\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\t\t\t    text-align: right;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.person-error {\r\n\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\tcolor: #ff0000;\r\n\t\t\t\t\tpadding-left: 75rpx;\r\n\t\t\t\t\tmargin-top: 5rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.edit-traveller-content {\r\n\r\n\t\tbackface-visibility: hidden;\r\n\t\tperspective: 1000;\r\n\t\t-webkit-overflow-scrolling : touch;\r\n\t\t-webkit-transform: translateZ(0);\r\n\t\t//transform: translate3d(0, 0, 0);\r\n\t\tflex-direction: column;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 101;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\t//transform: translate3d(0, 100%, 0);\r\n\t\ttransform: translateY(100%);\r\n\t\ttransition: all 400ms ease;\r\n\t\t//padding-bottom: 40rpx;\r\n\t}\r\n\r\n\t.editTravellerShow {\r\n\t\ttransform: translateY(0) !important;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./selectPerson.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./selectPerson.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1631885666462\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}