(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["components/form/travelDate"],{

/***/ 139:
/*!******************************************************************!*\
  !*** E:/LHMiniProgramRespository/components/form/travelDate.vue ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _travelDate_vue_vue_type_template_id_7ec36bb0___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./travelDate.vue?vue&type=template&id=7ec36bb0& */ 140);
/* harmony import */ var _travelDate_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./travelDate.vue?vue&type=script&lang=js& */ 142);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _travelDate_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _travelDate_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 10);

var renderjs




/* normalize component */

var component = Object(_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _travelDate_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _travelDate_vue_vue_type_template_id_7ec36bb0___WEBPACK_IMPORTED_MODULE_0__["render"],
  _travelDate_vue_vue_type_template_id_7ec36bb0___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _travelDate_vue_vue_type_template_id_7ec36bb0___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "components/form/travelDate.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 140:
/*!*************************************************************************************************!*\
  !*** E:/LHMiniProgramRespository/components/form/travelDate.vue?vue&type=template&id=7ec36bb0& ***!
  \*************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_travelDate_vue_vue_type_template_id_7ec36bb0___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./travelDate.vue?vue&type=template&id=7ec36bb0& */ 141);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_travelDate_vue_vue_type_template_id_7ec36bb0___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_travelDate_vue_vue_type_template_id_7ec36bb0___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_travelDate_vue_vue_type_template_id_7ec36bb0___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_travelDate_vue_vue_type_template_id_7ec36bb0___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 141:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/LHMiniProgramRespository/components/form/travelDate.vue?vue&type=template&id=7ec36bb0& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 142:
/*!*******************************************************************************************!*\
  !*** E:/LHMiniProgramRespository/components/form/travelDate.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_travelDate_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./travelDate.vue?vue&type=script&lang=js& */ 143);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_travelDate_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_travelDate_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_travelDate_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_travelDate_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_travelDate_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 143:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/LHMiniProgramRespository/components/form/travelDate.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;






















var _util = _interopRequireDefault(__webpack_require__(/*! @/common/util.js */ 11));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function _slicedToArray(arr, i) {return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();}function _nonIterableRest() {throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o, minLen) {if (!o) return;if (typeof o === "string") return _arrayLikeToArray(o, minLen);var n = Object.prototype.toString.call(o).slice(8, -1);if (n === "Object" && o.constructor) n = o.constructor.name;if (n === "Map" || n === "Set") return Array.from(o);if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);}function _arrayLikeToArray(arr, len) {if (len == null || len > arr.length) len = arr.length;for (var i = 0, arr2 = new Array(len); i < len; i++) {arr2[i] = arr[i];}return arr2;}function _iterableToArrayLimit(arr, i) {if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;var _arr = [];var _n = true;var _d = false;var _e = undefined;try {for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {_arr.push(_s.value);if (i && _arr.length === i) break;}} catch (err) {_d = true;_e = err;} finally {try {if (!_n && _i["return"] != null) _i["return"]();} finally {if (_d) throw _e;}}return _arr;}function _arrayWithHoles(arr) {if (Array.isArray(arr)) return arr;}var LHCalendar = function LHCalendar() {Promise.all(/*! require.ensure | components/LHCalendar */[__webpack_require__.e("common/vendor"), __webpack_require__.e("components/LHCalendar")]).then((function () {return resolve(__webpack_require__(/*! ../LHCalendar.vue */ 104));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var _default2 =

{
  components: {
    LHCalendar: LHCalendar },

  props: {
    orderDetail: {
      type: Object,
      default: function _default() {
        return {};
      } },

    initFormData: {
      type: Object,
      default: function _default() {
        return {};
      } } },


  data: function data() {
    console.log(this.initFormData);

    return {
      form: [],
      rules: [],
      selectType: null,
      disabledList: [],
      startDate: '',
      endDate: '',
      dateOptions: {
        disabledList: [],
        startDate: '1900-01-01',
        endDate: '2100-01-01' },

      calendarValue: '' };

  },
  created: function created() {var _this = this;


    this.getProductRules();
    var data = null;
    var _ServiceDate = '',
    _ServiceDateError = '',
    _BackupDate = '',
    _BackupDateError = '';
    if (this.orderDetail.Product.ElementsValue && this.orderDetail.Product.ElementsValue !== '{}') {

      var ElementsValue = JSON.parse(this.orderDetail.Product.ElementsValue);
      data = ElementsValue[this.initFormData.componentItem];

      if (data) {
        if (data.formData && data.formData.ServiceDate) {
          _ServiceDate = data.formData.ServiceDate.value;
          if (data.formData.ServiceDate.tipsClass.indexOf('tips') > -1) {
            _ServiceDateError = data.formData.ServiceDate.formTips;
          }
        }
        if (data.formData && data.formData.BackDate) {
          _BackupDate = data.formData.BackDate.value;
          if (data.formData.BackDate.tipsClass.indexOf('tips') > -1) {
            _BackupDateError = data.formData.BackDate.formTips;
          }
        }
      }


    } else {var _this$orderDetail$Pro =



      this.orderDetail.Product,ServiceDate = _this$orderDetail$Pro.ServiceDate,BackupDate = _this$orderDetail$Pro.BackupDate;
      if (ServiceDate) {
        _ServiceDate = ServiceDate.substring(0, 10);
      }
      if (BackupDate) {
        _BackupDate = BackupDate.substring(0, 10);
      }
      if (_ServiceDate == '0001-01-01' || _ServiceDate == '1900-01-01') {
        _ServiceDate = '';
      }
      if (_ServiceDate.substring(0, 4) * 1 < 1901) {
        _ServiceDate = '';
      }
      if (_BackupDate == '0001-01-01' || _BackupDate == '1900-01-01') {
        _BackupDate = '';
      }
      if (_BackupDate.substring(0, 4) * 1 < 1901) {
        _BackupDate = '';
      }
      if (this.orderDetail.PlatformTravelDate) {
        _ServiceDate = this.orderDetail.PlatformTravelDate.substring(0, 10);
      }
    }

    this.initFormData.elements.forEach(function (item, index) {
      var _value = '',
      errorText = '';

      if (index === 0) {
        _value = _ServiceDate;
        if (!_ServiceDate) {
          errorText = '请选择出行日期';
        }
        if (_ServiceDateError) {
          errorText = _ServiceDateError;
        }
      }
      if (index === 1) {
        _value = _BackupDate;
        if (!_BackupDate) {
          errorText = '请选择返回日期';
        }
        if (_BackupDateError) {
          errorText = _BackupDateError;
        }
      }
      _this.form.push({
        code: item.code,
        value: _value,
        errorText: errorText,
        show: true,
        tips: item.tips });

    });

    var showBackDate = true;var _this$orderDetail$Pro2 =



    this.orderDetail.Product,ServiceTypeID = _this$orderDetail$Pro2.ServiceTypeID,FixedDays = _this$orderDetail$Pro2.FixedDays;

    if (ServiceTypeID == 2) {//行程类
      if (FixedDays == 1) {//行程天数等于1，不需要显示
        showBackDate = false;
      }
    } else if (ServiceTypeID == 1) {//交通类
      showBackDate = false;
    } else if (ServiceTypeID == 3) {//门票类
      showBackDate = false;
    }

    if (!showBackDate) {
      this.form[1].show = false;
    }
  },
  methods: {
    selectDate: function selectDate(selectType) {
      if (this.orderDetail.CustomerState !== 0 && this.orderDetail.CustomerState !== 20) {
        return;
      }
      if (selectType === 0) {var _this$dateOptions =




        this.dateOptions,disabledList = _this$dateOptions.disabledList,startDate = _this$dateOptions.startDate,endDate = _this$dateOptions.endDate;

        this.disabledList = disabledList;

        if (startDate != '1900-01-01') {
          this.startDate = startDate;
        } else {
          this.startDate = _util.default.dateFormat(new Date(), 'd');
        }
        this.endDate = endDate;

        this.calendarValue = this.form[0].value;

      } else {
        this.disabledList = [];
        this.startDate = '';
        this.endDate = '';
        this.calendarValue = this.form[1].value;
      }

      this.$refs.lhcalendar.showCalendar();
      this.selectType = selectType;
    },
    confirmDate: function confirmDate(value) {
      this.form[this.selectType].value = value;
      this.form[this.selectType].errorText = '';
      if (this.selectType === 0) {

        //自动填写返回日期
        if (this.form[1].show) {
          this.setBackDate(value);
        }
        if (this.orderDetail.PlatformTravelDate && this.orderDetail.PlatformTravelDate.substring(0, 10) !=
        value) {
          uni.showToast({
            title: '您修改的出行日期和拍下商品填写的出行日期不一致，请您做好核对！',
            icon: 'none' });

        }
      }
      this.validateDate();
    },
    getProductRules: function getProductRules() {var _this2 = this;
      this.$sendRequest({
        url: "/WxOpen/GetProductRules",
        method: "GET",
        data: {
          serviceItemID: this.orderDetail.Product.ProductID } }).

      then(function (res) {
        if (res.Code === 200) {
          _this2.getDisabledDateList(res.data);
          if (res.data.length) {
            _this2.validateDate();
          }
        }
      });
    },
    getDisabledDateList: function getDisabledDateList(ruleArr) {var _this3 = this;
      var startDate = +new Date('2010/01/01'),
      endDate = +new Date('2100/01/01'),
      datesDisabled = [];

      ruleArr.forEach(function (item) {
        var RuleUseTypeValue = item.RuleUseTypeValue, //0:只允许，1：禁止
        SelectRuleType = item.SelectRuleType, //0:日期范围，1：星期选择，2：单双选择，3：固定日期
        RangeStart = item.RangeStart.substring(0, 10).replace(/-/g, "/"),
        RangeEnd = item.RangeEnd.substring(0, 10).replace(/-/g, "/"),
        StartTime = item.StartTime.substring(0, 10).replace(/-/g, "/"),
        EndTime = item.EndTime.substring(0, 10).replace(/-/g, "/"),
        Week = item.Week && item.Week.split('|'),
        IsDouble = item.IsDouble,
        UseDate = item.UseDate && item.UseDate.split('|');

        if (RuleUseTypeValue) {

          //范围内，其他时间可以选择

          if (SelectRuleType == 0) {
            for (var i = +new Date(RangeStart); i <= +new Date(RangeEnd); i = i + 24 * 60 *
            60 * 1000) {
              var tmp = new Date(i);
              if (datesDisabled.indexOf(tmp) === -1) {
                datesDisabled.push(tmp);
              }
            }
          } else if (SelectRuleType == 1) {
            for (var i = +new Date(StartTime); i <= +new Date(EndTime); i = i + 24 * 60 * 60 *
            1000) {
              var tmp = new Date(i);
              if (datesDisabled.indexOf(tmp) === -1 && Week.indexOf(tmp.getDay() + '') > -1) {
                datesDisabled.push(tmp);
              }
            }
          } else if (SelectRuleType == 2) {
            for (var i = +new Date(StartTime); i <= +new Date(EndTime); i = i + 24 * 60 * 60 *
            1000) {
              var tmp = new Date(i);
              if (datesDisabled.indexOf(tmp) === -1) {

                if (IsDouble && tmp.getDate() % 2 == 0) {//双号
                  datesDisabled.push(tmp);
                } else if (!IsDouble && tmp.getDate() % 2 == 1) {
                  datesDisabled.push(tmp);
                }
              }
            }
          } else if (SelectRuleType == 3) {
            for (var i = +new Date(StartTime); i <= +new Date(EndTime); i = i + 24 * 60 * 60 *
            1000) {
              var tmp = new Date(i);
              if (datesDisabled.indexOf(tmp) === -1 && UseDate.indexOf(tmp.getDate() + '') > -
              1) {
                datesDisabled.push(tmp);
              }
            }
          }
        } else {//只允许，日期排除放入datesDisabled

          //获取最近的开始时间
          if (+new Date(StartTime) > startDate) {
            startDate = +new Date(StartTime);
          }
          //获取最近的结束时间
          if (+new Date(EndTime) < endDate) {
            endDate = +new Date(EndTime);
          }

          if (SelectRuleType == 0) {

            if (+new Date(RangeStart) > startDate) {
              startDate = +new Date(RangeStart);
            }
            if (+new Date(RangeEnd) < endDate) {
              endDate = +new Date(RangeEnd);
            }
          } else if (SelectRuleType == 1) {
            for (var i = +new Date(startDate); i <= +new Date(endDate); i = i + 24 * 60 * 60 *
            1000) {
              var tmp = new Date(i);
              if (datesDisabled.indexOf(tmp) === -1 && Week.indexOf(tmp.getDay() + '') === -1) {
                datesDisabled.push(tmp);
              }
            }
          } else if (SelectRuleType == 2) {
            for (var i = +new Date(startDate); i <= +new Date(endDate); i = i + 24 * 60 * 60 *
            1000) {
              var tmp = new Date(i);
              if (datesDisabled.indexOf(tmp) === -1) {

                if (IsDouble && tmp.getDate() % 2 == 1) {//双号
                  datesDisabled.push(tmp);
                } else if (!IsDouble && tmp.getDate() % 2 == 0) {
                  datesDisabled.push(tmp);
                }
              }
            }
          } else if (SelectRuleType == 3) {
            for (var i = +new Date(startDate); i <= +new Date(endDate); i = i + 24 * 60 * 60 *
            1000) {
              var tmp = new Date(i);
              if (datesDisabled.indexOf(tmp) === -1 && UseDate.indexOf(tmp.getDate() + '') === -
              1) {
                datesDisabled.push(tmp);
              }
            }
          }
        }

        datesDisabled.forEach(function (item, index) {
          datesDisabled[index] = _util.default.dateFormat(item, 'd');
        });

        var today = _util.default.dateFormat(new Date(), 'd');
        if (startDate < +new Date(today)) {
          startDate = +new Date(today);
        }

        _this3.dateOptions = {
          startDate: _util.default.dateFormat(startDate, 'd'),
          endDate: _util.default.dateFormat(endDate, 'd'),
          disabledList: datesDisabled };


      });
    },
    cancelDate: function cancelDate() {
      if (!this.form[this.selectType].value) {
        this.form[this.selectType].errorText = '请选择日期';
      }
    },
    validateDate: function validateDate() {var _this4 = this;var _this$orderDetail$Pro3 =




      this.orderDetail.Product,ServiceTypeID = _this$orderDetail$Pro3.ServiceTypeID,FixedDays = _this$orderDetail$Pro3.FixedDays,RightNum = _this$orderDetail$Pro3.RightNum;

      if (this.initFormData.mandatory === '1') {
        this.form.forEach(function (item, index) {
          if (!item.value && item.show) {
            _this4.form[index].errorText = '请选择正确的日期';
          }
        });
      }var _this$form = _slicedToArray(


      this.form, 2),startDate = _this$form[0],endDate = _this$form[1];
      var _FixedDays = FixedDays - 1;
      if (this.form.length === 2) {
        if (startDate.value && endDate.value) {
          var tips = '';
          if (+new Date(startDate.value.replace(/-/g, "/")) > +new Date(endDate.value.replace(/-/g, "/"))) {
            tips = this.initFormData.elements[1].name + '不能小于' + this.initFormData.elements[0].name;
          }
          if (ServiceTypeID == 2 && _FixedDays > 0) {

            if (+new Date(startDate.value.replace(/-/g, "/")) + _FixedDays * 24 * 60 * 60 * 1000 != +
            new Date(endDate.value.replace(/-/g, "/"))) {
              tips = this.initFormData.elements[0].name + '和' + this.initFormData.elements[1].name +
              '应该相差' + _FixedDays + '天';
            }
          }
          if (ServiceTypeID == 4) {
            if (+new Date(startDate.value.replace(/-/g, "/")) + RightNum * 24 * 60 * 60 * 1000 != +
            new Date(endDate.value.replace(/-/g, "/"))) {
              tips = this.initFormData.elements[0].name + '和' + this.initFormData.elements[1].name +
              '应该相差' + RightNum + '晚';
            }

          }
          this.form[1].errorText = tips;
        }
      }
      if (startDate.value && this.dateOptions) {

        if (+new Date(startDate.value.replace(/-/g, "/")) < +new Date(this.dateOptions.startDate)) {
          this.form[0].value = '';
          this.form[0].errorText = '请选择正确的日期';
        }
        if (+new Date(startDate.value.replace(/-/g, "/")) > +new Date(this.dateOptions.endDate)) {
          this.form[0].value = '';
          this.form[0].errorText = '请选择正确的日期';
        }
        if (this.dateOptions.disabledList.indexOf(startDate.value) > -1) {
          this.form[0].value = '';
          this.form[0].errorText = '请选择正确的日期';
        }
      }


    },
    changeDate: function changeDate(index, e) {
      var value = e ? e.detail.value.trim() : this.form[index].value;
      var tips = '';
      if (!value) {
        tips = '请选择正确的日期';
      } else {
        if (!_util.default.isDate(value)) {
          tips = '请选择正确的日期';
        }
      }
      this.form[index].errorText = tips;

    },
    setBackDate: function setBackDate(serviceDate) {

      //默认返回日期，出行天数等于0,1，等于出行时间，否则等于出行时间 + 天数 - 1;
      var backDate = '';var _this$orderDetail$Pro4 =



      this.orderDetail.Product,FixedDays = _this$orderDetail$Pro4.FixedDays,ServiceTypeID = _this$orderDetail$Pro4.ServiceTypeID;
      if (ServiceTypeID === 2) {
        if (FixedDays < 2) {
          backDate = serviceDate;
        } else {
          backDate = _util.default.dateFormat(+new Date(serviceDate) + (FixedDays - 1) * 24 * 60 * 60 * 1000, 'd');
        }
      }
      this.form[1].value = backDate;
      this.form[1].errorText = '';
    },
    getFiledsValue: function getFiledsValue(type) {var _this5 = this;
      if (type === 1) {
        this.validateDate();
      }
      if (this.form[0].value && this.orderDetail.PlatformTravelDate && this.orderDetail.
      PlatformTravelDate.substring(0, 10) != this.form[0].value.substring(0, 10)) {
        uni.showToast({
          title: '拍下时日期与提交的不同，请仔细核对！',
          icon: 'none' });

      }
      var ElementsValue = {};
      var ServiceItemTemplteValue = {};
      var hasError = [];
      ElementsValue[this.initFormData.componentItem] = {
        componentInfo: this.initFormData,
        formData: {} };

      if (!this.form[1].show) {
        this.form[1].errorText = '';
      }
      this.form.forEach(function (item) {var

        value =


        item.value,errorText = item.errorText,tips = item.tips;
        var tipsClass = errorText ? 'help-inline tips' : 'help-inline';
        var formTips = errorText ? errorText : tips;
        ElementsValue[_this5.initFormData.componentItem].formData[item.code] = {
          value: value,
          text: value,
          formTips: formTips,
          tipsClass: tipsClass };

        if (errorText) {
          hasError.push(errorText);
        }
        ServiceItemTemplteValue[item.code] = value;
      });
      var date = {
        date1: this.form[0].value,
        date2: this.form[1].value };

      this.$emit('changeDate', date);
      return {
        ElementsValue: ElementsValue,
        ServiceItemTemplteValue: ServiceItemTemplteValue,
        hasError: hasError };

    } } };exports.default = _default2;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ })

}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/components/form/travelDate.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/form/travelDate-create-component',
    {
        'components/form/travelDate-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(139))
        })
    },
    [['components/form/travelDate-create-component']]
]);
